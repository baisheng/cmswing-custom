{% extends "view/admin/ext/admin.html" %}

{% block pageHeader %}
    <div class="page-header">
        <!-- Header content -->
        <div class="page-header-content">
            <div class="page-title">
                <h4>
                    <i class="icon-cabinet position-left"></i>
                    <span class="text-semibold">系统管理</span> - {{ controller.meta_title }}
                </h4>

                <ul class="breadcrumb position-right">
                    <li>
                        <a href="index.html">
                            首页
                        </a>
                    </li>
                    <li><a href="/admin/database/index">系统管理</a></li>
                    <li class="active">{{ controller.meta_title }}</li>

                </ul>
                <a class="heading-elements-toggle"><i class="icon-more"></i></a></div>

            <div class="heading-elements">
                {#                <a href="/{{ ctx.controller }}/adduser"
                                   class="btn btn-labeled btn-labeled-right bg-primary heading-btn">
                                    <span class="text">添加用户组</span>
                                    <b><i class=" icon-add"></i></b>
                                </a>#}
            </div>
        </div>
        <!-- /header content -->


        <!-- Toolbar -->
        {#
        <div class="navbar navbar-default navbar-component navbar-xs">
            <ul class="nav navbar-nav visible-xs-block">
                <li class="full-width text-center"><a data-toggle="collapse" data-target="#navbar-filter"><i
                                class="icon-menu7"></i></a></li>
            </ul>

            <div class="navbar-collapse collapse" id="navbar-filter">
                <ul class="nav navbar-nav">
                    <li class="{% if ctx.action == 'index' %}active{% endif %}">
                        <a href="/{{ ctx.controller }}/index"
                           class="c-tabs__link">
                            <i class="icon-users4 position-left"></i>
                            用户组
                        </a>
                    </li>
                    <li class="{% if ctx.action == 'admin' %}active{% endif %}">
                        <a href="/{{ ctx.controller }}/admin"
                           class="c-tabs__link">
                            <i class="icon-user-tie position-left"></i>
                            管理员角色
                        </a>
                    </li>
                </ul>
            </div>
            <!-- /toolbar -->

        </div>
           #}

    </div>

{% endblock %}
{% block extadmin %}
    <div class="panel panel-default">

        <div class="panel-body">
            <form action="/{{ ctx.controller }}/update" class="form-horizontal" method="post" data-validate="parsley">

                <div class="form-group">
                    <label class="col-sm-2 control-label">接口标识</label>
                    <div class="col-sm-10">
                        <div class="row">
                            <div class="col-md-10"><input name="dis" type="text"
                                                          value="{{ data.dis }}"
                                                          class="form-control" {% if not data.id %}data-required="true"
                                                          data-remote="/{{ ctx.controller }}/checkext" {% endif %}>
                            </div>
                            <div class="col-md-12">
                                                    <span class="help-block m-b-none text-muted"><i
                                                                class="fa fa-info-circle "></i>
                                                        英文字母.比如 你的标识是<code>biaoshi</code>那么请求接口就是 <code>/addon/attachment/adminfile/upload?type=biaoshi</code></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">表单name值</label>
                    <div class="col-sm-10">
                        <div class="row">
                            <div class="col-md-10"><input name="name" type="text"
                                                          value="{{ data.name }}"
                                                          class="form-control"></div>
                            <div class="col-md-12">
                            <span class="help-block m-b-none text-muted">
                                <i class="fa fa-info-circle "></i>
                                默认为<code>file</code>,不需要留给留空
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">描述</label>
                    <div class="col-sm-10">
                        <div class="row">
                            <div class="col-md-10"><textarea name="description"
                                                             class="form-control">{{ data.description }}</textarea>
                            </div>
                            <div class="col-md-12">
                                <span class="help-block m-b-none text-muted"><i
                                            class="fa fa-info-circle "></i> 200字以内</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">水印</label>
                    <div class="col-sm-10">
                        <div class="row">
                            <div class="col-md-10">
                                <label class="radio-inline i-checks">
                                    <input type="radio" value="0" name="mark" {% if data.mark== 0 or data.mark==
                                        null %}checked {% endif %}><i></i> 禁用
                                </label>
                                <label class="radio-inline i-checks">
                                    <input type="radio" value="1" name="mark" {% if data.mark== 1 %}checked {% endif %}><i></i>
                                    开启
                                </label>
                            </div>
                            <div class="col-md-12">
                                    <span class="help-block m-b-none text-muted">
                                        <i class="fa fa-info-circle "></i>开启后图片类型文件将添加水印<br>
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">路径</label>
                    <div class="col-sm-10">
                        <div class="row">
                            <div class="col-md-10">
                                <input name="path" type="text" value="{{ data.path }}" class="form-control">
                            </div>
                            <div class="col-md-12">
                                     <span class="help-block m-b-none text-muted">
                                        <i class="fa fa-info-circle "></i>文件相对于服务器的路径,有默认值,不需要请留空<br>
                                    </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">类型</label>
                    <div class="col-sm-10">
                        <div class="row">
                            <div class="col-md-10">
                                <label class="radio-inline i-checks">
                                    <input type="radio" value="0" name="type" {% if data.type== 0 or data.type==
                                        null %}checked {% endif %}><i></i> 图片
                                </label>
                                <label class="radio-inline i-checks">
                                    <input type="radio" value="1" name="type" {% if data.type== 1 %}checked {% endif %}><i></i>
                                    文件
                                </label>
                            </div>
                            <div class="col-md-12">
                                            <span class="help-block m-b-none text-muted">
                                                <i class="fa fa-info-circle "></i> 接口的类型<br>
                                                后台图片接口地址:<code>/addon/attachment/adminfile/uploadpic?type=接口标识</code><br>
                                                后台文件接口地址:<code>/addon/attachment/adminfile/upload?type=接口标识</code><br>
                                                前台图片接口地址:<code>/addon/attachment/homefile/uploadpic?type=接口标识</code><br>
                                                前台文件接口地址:<code>/addon/attachment/homefile/upload?type=接口标识</code><br>
                                            </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">接口返回规则</label>
                    <div class="col-sm-10">
                        <div class="row">
                            <div class="col-md-7"><textarea name="rule" class="form-control" {% if not
                                    data.id %}data-required="true" {% endif %}>{{ data.rule }}</textarea>
                            </div>
                            <div class="col-md-12">
                                <span class="help-block m-b-none text-muted">
                                    <i class="fa fa-info-circle "></i>
                                    输入接口返回规则，必填 ，<code>${id}</code>图片id<code>${url}</code>图片地址,<code>${name}</code>图片名称,默认接口只返回 id
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group form-submit">
                    <div class="col-sm-4 col-sm-offset-2">
                        {% if data.id %}
                            <input type="hidden" name="id" value="{{ data.id }}"/>
                        {% endif %}
                        <button type="submit" target-form="form-horizontal"
                                class="btn btn-primary ajax-post">保存
                        </button>
                        <button type="submit" class="btn btn-default"
                                onclick="javascript:history.back(-1);return false;">返回
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
